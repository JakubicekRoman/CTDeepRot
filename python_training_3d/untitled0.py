import numpy as np

def rotate_2d(img,angels_deg):
    
    T=[[0,0,0,1,2,3,0,0,0,0,0,0],[0,0,90,2,1,3,0,1,0,0,2,1],[0,0,180,1,2,3,1,1,0,2,2,2],[0,0,270,2,1,3,1,0,0,2,0,3],
       [0,90,0,3,2,1,1,0,0,1,1,1],[0,90,90,2,3,1,0,0,0,1,1,2],[0,90,180,3,2,1,0,1,0,1,1,3],[0,90,270,2,3,1,1,1,0,1,1,0],
       [0,180,0,1,2,3,1,0,1,0,2,2],[0,180,90,2,1,3,0,0,1,2,2,3],[0,180,180,1,2,3,0,1,1,2,0,0],[0,180,270,2,1,3,1,1,1,0,0,1],
       [0,270,0,3,2,1,0,0,1,3,3,1],[0,270,90,2,3,1,0,1,1,3,3,2],[0,270,180,3,2,1,1,1,1,3,3,3],[0,270,270,2,3,1,1,0,1,3,3,0],
       [90,0,0,1,3,2,0,0,1,1,0,0],[90,0,90,3,1,2,0,1,1,0,1,1],[90,0,180,1,3,2,1,1,1,1,2,2],[90,0,270,3,1,2,1,0,1,2,1,3],
       [90,90,0,2,3,1,0,0,0,1,1,2],[90,90,90,3,2,1,0,1,0,1,1,3],[90,90,180,2,3,1,1,1,0,1,1,0],[90,90,270,3,2,1,1,0,0,1,1,1],
       [90,180,0,1,3,2,1,0,0,3,2,2],[90,180,90,3,1,2,0,0,0,2,3,3],[90,180,180,1,3,2,0,1,0,3,0,0],[90,180,270,3,1,2,1,1,0,0,3,1],
       [90,270,0,2,3,1,1,0,1,3,3,0],[90,270,90,3,2,1,0,0,1,3,3,1],[90,270,180,2,3,1,0,1,1,3,3,2],[90,270,270,3,2,1,1,1,1,3,3,3],
       [180,0,0,1,2,3,0,1,1,2,0,0],[180,0,90,2,1,3,1,1,1,0,0,1],[180,0,180,1,2,3,1,0,1,0,2,2],[180,0,270,2,1,3,0,0,1,2,2,3],
       [180,90,0,3,2,1,0,1,0,1,1,3],[180,90,90,2,3,1,1,1,0,1,1,0],[180,90,180,3,2,1,1,0,0,1,1,1],[180,90,270,2,3,1,0,0,0,1,1,2],
       [180,180,0,1,2,3,1,1,0,2,2,2],[180,180,90,2,1,3,1,0,0,2,0,3],[180,180,180,1,2,3,0,0,0,0,0,0],[180,180,270,2,1,3,0,1,0,0,2,1],
       [180,270,0,3,2,1,1,1,1,3,3,3],[180,270,90,2,3,1,1,0,1,3,3,0],[180,270,180,3,2,1,0,0,1,3,3,1],[180,270,270,2,3,1,0,1,1,3,3,2],
       [270,0,0,1,3,2,0,1,0,3,0,0],[270,0,90,3,1,2,1,1,0,0,3,1],[270,0,180,1,3,2,1,0,0,3,2,2],[270,0,270,3,1,2,0,0,0,2,3,3],
       [270,90,0,2,3,1,1,1,0,1,1,0],[270,90,90,3,2,1,1,0,0,1,1,1],[270,90,180,2,3,1,0,0,0,1,1,2],[270,90,270,3,2,1,0,1,0,1,1,3],
       [270,180,0,1,3,2,1,1,1,1,2,2],[270,180,90,3,1,2,1,0,1,2,1,3],[270,180,180,1,3,2,0,0,1,1,0,0],[270,180,270,3,1,2,0,1,1,0,1,1],
       [270,270,0,2,3,1,0,1,1,3,3,2],[270,270,90,3,2,1,1,1,1,3,3,3],[270,270,180,2,3,1,1,0,1,3,3,0],[270,270,270,3,2,1,0,0,1,3,3,1]]

    T=np.array(T)
    rots_3d=T[:,0:2]

    ind=find(cellfun(@(x) all(angels_deg==x),rots_3d));

